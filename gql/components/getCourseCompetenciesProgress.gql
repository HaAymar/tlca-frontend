query GetCourseCompetenciesProgress($courseCode: ID!) {
  course(code: $courseCode) {
    code
    competencies {
      category
      competency {
        code
        learningOutcomes {
          name
          takes
        }
        name
      }
      subcategory
      useLearningOutcomes
    }
    isRegistered
  }

  registration(code: $courseCode) {
    id
    progress {
      competencies {
        competency {
          code
        }
        learningOutcomes
        progress
      }
    }
  }
}
